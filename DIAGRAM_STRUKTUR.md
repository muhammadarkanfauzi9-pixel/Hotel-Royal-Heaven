# ğŸ—ï¸ DIAGRAM STRUKTUR APLIKASI

## User Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HOTEL ROYAL HEAVEN                        â”‚
â”‚                    Sistem Manajemen Hotel                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                           â†“
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚     HALAMAN PUBLIK (No Auth)       â”‚
          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
          â”‚  / (Landing)                       â”‚
          â”‚  /kamar (Daftar Kamar)             â”‚
          â”‚  /about (Tentang Kami)             â”‚
          â”‚  /login (Login)                    â”‚
          â”‚  /register (Register)              â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â†™                  â†˜
         
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      LOGIN           â”‚    â”‚      REGISTER        â”‚
    â”‚  (AuthController)    â”‚    â”‚  (AuthController)    â”‚
    â”‚                      â”‚    â”‚                      â”‚
    â”‚  Input:              â”‚    â”‚  Input:              â”‚
    â”‚  - Email             â”‚    â”‚  - Email             â”‚
    â”‚  - Password          â”‚    â”‚  - Password          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“                            â†“
      Auth::attempt()            User::create()
           â†“                            â†“
      Check Level                  Level = 'member'
           â†“                            â†“
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘ IF isAdmin() == true:                â•‘
    â•‘ â†’ /admin (Admin Dashboard)           â•‘
    â•‘                                      â•‘
    â•‘ ELSE:                                â•‘
    â•‘ â†’ /member (Member Dashboard)         â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           â†“
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                     â”‚
    â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
    â”‚         â”‚   ADMIN DASHBOARD        â”‚               â”‚
    â”‚         â”‚  /admin                  â”‚               â”‚
    â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
    â”‚         â”‚ Statistics               â”‚               â”‚
    â”‚         â”‚ + Recent Bookings        â”‚               â”‚
    â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
    â”‚                    â”‚                               â”‚
    â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
    â”‚         â†“          â†“          â†“           â†“        â”‚
    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
    â”‚    â”‚ Kamar  â”‚ â”‚Pemesananâ”‚ â”‚Memberâ”‚ â”‚Profil  â”‚    â”‚
    â”‚    â”‚Manage  â”‚ â”‚Manage   â”‚ â”‚Manageâ”‚ â”‚Admin   â”‚    â”‚
    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
    â”‚                                                     â”‚
    â”‚         [Admin Only] (EnsureAdmin Middleware)      â”‚
    â”‚                                                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                     â”‚
    â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
    â”‚         â”‚   MEMBER DASHBOARD       â”‚               â”‚
    â”‚         â”‚  /member                 â”‚               â”‚
    â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
    â”‚         â”‚ Menu:                    â”‚               â”‚
    â”‚         â”‚ â€¢ Daftar Kamar           â”‚               â”‚
    â”‚         â”‚ â€¢ Riwayat Pemesanan      â”‚               â”‚
    â”‚         â”‚ â€¢ Profil                 â”‚               â”‚
    â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
    â”‚                    â”‚                               â”‚
    â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
    â”‚         â†“          â†“          â†“         â†“          â”‚
    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”      â”‚
    â”‚    â”‚ Kamar  â”‚ â”‚Pemesananâ”‚ â”‚Riwayat  â”‚ â”‚Proâ”‚      â”‚
    â”‚    â”‚Browse  â”‚ â”‚Create   â”‚ â”‚Pesan    â”‚ â”‚filâ”‚      â”‚
    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”˜      â”‚
    â”‚                                                     â”‚
    â”‚         [Member Only] (EnsureMember Middleware)    â”‚
    â”‚                                                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Directory Structure Tree

```
Hotel-Royal-Heaven/
â”‚
â”œâ”€â”€ app/Http/
â”‚   â”œâ”€â”€ Controllers/
â”‚   â”‚   â”œâ”€â”€ Admin/
â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ KamarController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ PemesananController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ UserController.php
â”‚   â”‚   â”‚   â””â”€â”€ ProfileController.php
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Member/
â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ KamarController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ PemesananController.php
â”‚   â”‚   â”‚   â””â”€â”€ ProfileController.php
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ AuthController.php (updated)
â”‚   â”‚   â””â”€â”€ KamarController.php (public)
â”‚   â”‚
â”‚   â””â”€â”€ Middleware/
â”‚       â”œâ”€â”€ EnsureAdmin.php
â”‚       â””â”€â”€ EnsureMember.php
â”‚
â”œâ”€â”€ resources/views/
â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â””â”€â”€ index.blade.php
â”‚   â”‚   â”œâ”€â”€ kamar/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.blade.php
â”‚   â”‚   â”‚   â”œâ”€â”€ create.blade.php
â”‚   â”‚   â”‚   â””â”€â”€ edit.blade.php
â”‚   â”‚   â”œâ”€â”€ pemesanan/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.blade.php
â”‚   â”‚   â”‚   â””â”€â”€ show.blade.php
â”‚   â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.blade.php
â”‚   â”‚   â”‚   â”œâ”€â”€ show.blade.php
â”‚   â”‚   â”‚   â””â”€â”€ edit.blade.php
â”‚   â”‚   â””â”€â”€ profile/
â”‚   â”‚       â”œâ”€â”€ show.blade.php
â”‚   â”‚       â””â”€â”€ edit.blade.php
â”‚   â”‚
â”‚   â”œâ”€â”€ member/
â”‚   â”‚   â”œâ”€â”€ dashboard.blade.php
â”‚   â”‚   â”œâ”€â”€ kamar/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.blade.php
â”‚   â”‚   â”‚   â””â”€â”€ show.blade.php
â”‚   â”‚   â”œâ”€â”€ pemesanan/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.blade.php
â”‚   â”‚   â”‚   â”œâ”€â”€ create.blade.php
â”‚   â”‚   â”‚   â””â”€â”€ show.blade.php
â”‚   â”‚   â””â”€â”€ profile/
â”‚   â”‚       â”œâ”€â”€ show.blade.php
â”‚   â”‚       â””â”€â”€ edit.blade.php
â”‚   â”‚
â”‚   â”œâ”€â”€ layouts/
â”‚   â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ about.blade.php
â”‚   â””â”€â”€ home.blade.php
â”‚
â””â”€â”€ routes/
    â””â”€â”€ web.php (updated)
```

---

## Middleware Flow Diagram

```
REQUEST
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Middleware Chain:                       â”‚
â”‚ 1. TrustProxies                        â”‚
â”‚ 2. HandleCors                          â”‚
â”‚ 3. ValidatePathEncoding                â”‚
â”‚ 4. ... (other global middleware)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Route Matching                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â†“              â†“            â†“             â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Public â”‚    â”‚  Auth    â”‚ â”‚  Admin  â”‚ â”‚  Member  â”‚
    â”‚ Route  â”‚    â”‚ Route    â”‚ â”‚ Route   â”‚ â”‚ Route    â”‚
    â”‚        â”‚    â”‚          â”‚ â”‚         â”‚ â”‚          â”‚
    â”‚No Auth â”‚    â”‚Auth MW   â”‚ â”‚Ensure   â”‚ â”‚Ensure    â”‚
    â”‚ MW     â”‚    â”‚+ others  â”‚ â”‚Admin MW â”‚ â”‚Member MW â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         âœ…              âœ…           âœ…            âœ…
         â†“              â†“            â†“             â†“
      PASS          PASS (if    PASS (if     PASS (if
      PUBLIC        auth)       admin)       member &
      PAGES         THEN:       THEN:        not admin)
                    Allow       Allow        THEN:
                    Access      Access       Allow
                                             Access
```

---

## Route Access Control Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Route              â”‚ Public    â”‚ Admin    â”‚ Member      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ /                  â”‚ âœ… ALLOW  â”‚ âœ… ALLOW â”‚ âœ… ALLOW    â”‚
â”‚ /kamar             â”‚ âœ… ALLOW  â”‚ âœ… ALLOW â”‚ âœ… ALLOW    â”‚
â”‚ /about             â”‚ âœ… ALLOW  â”‚ âœ… ALLOW â”‚ âœ… ALLOW    â”‚
â”‚ /login             â”‚ âœ… ALLOW  â”‚ âœ… ALLOW â”‚ âœ… ALLOW    â”‚
â”‚ /register          â”‚ âœ… ALLOW  â”‚ âœ… ALLOW â”‚ âœ… ALLOW    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ /admin/*           â”‚ ğŸ”´ DENY   â”‚ âœ… ALLOW â”‚ ğŸ”´ DENY     â”‚
â”‚ /admin             â”‚ ğŸ”´ DENY   â”‚ âœ… ALLOW â”‚ ğŸ”´ DENY     â”‚
â”‚ /admin/kamar       â”‚ ğŸ”´ DENY   â”‚ âœ… ALLOW â”‚ ğŸ”´ DENY     â”‚
â”‚ /admin/pemesanan   â”‚ ğŸ”´ DENY   â”‚ âœ… ALLOW â”‚ ğŸ”´ DENY     â”‚
â”‚ /admin/user        â”‚ ğŸ”´ DENY   â”‚ âœ… ALLOW â”‚ ğŸ”´ DENY     â”‚
â”‚ /admin/profile     â”‚ ğŸ”´ DENY   â”‚ âœ… ALLOW â”‚ ğŸ”´ DENY     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ /member/*          â”‚ ğŸ”´ DENY   â”‚ ğŸ”´ DENY  â”‚ âœ… ALLOW    â”‚
â”‚ /member            â”‚ ğŸ”´ DENY   â”‚ ğŸ”´ DENY  â”‚ âœ… ALLOW    â”‚
â”‚ /member/kamar      â”‚ ğŸ”´ DENY   â”‚ ğŸ”´ DENY  â”‚ âœ… ALLOW    â”‚
â”‚ /member/pemesanan  â”‚ ğŸ”´ DENY   â”‚ ğŸ”´ DENY  â”‚ âœ… ALLOW    â”‚
â”‚ /member/profile    â”‚ ğŸ”´ DENY   â”‚ ğŸ”´ DENY  â”‚ âœ… ALLOW    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legend:
âœ… ALLOW  = User dapat akses
ğŸ”´ DENY   = User akan redirect (access denied)
```

---

## Data Flow Diagram - Admin Manage Kamar

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Admin  â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â”‚ 1. GET /admin/kamar
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Admin/KamarController@index     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Query: Kamar::paginate(15)    â”‚
â”‚ â€¢ View: admin.kamar.index       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Database:    â”‚
        â”‚ kamar table  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚          â”‚          â”‚          â”‚
    â†“          â†“          â†“          â†“
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Edit   â”‚ â”‚ Delete â”‚ â”‚ Create â”‚ â”‚ View   â”‚
 â”‚ Kamar  â”‚ â”‚ Kamar  â”‚ â”‚ Kamar  â”‚ â”‚ Detail â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Diagram - Member Book Room

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Member â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â”‚ 1. GET /member/pemesanan/create
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Member/PemesananController      â”‚
â”‚ @create                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Query available rooms         â”‚
â”‚ â€¢ Display form                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”‚ 2. POST /member/pemesanan
    â”‚    (Form submitted)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Member/PemesananController      â”‚
â”‚ @store                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Validate data                 â”‚
â”‚ â€¢ Calculate total price         â”‚
â”‚ â€¢ Create booking                â”‚
â”‚ â€¢ Update room status (booked)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Database:    â”‚
        â”‚ pemesanan    â”‚
        â”‚ + kamar      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Redirect to riwayat      â”‚
    â”‚ with success message     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Controller Responsibility Matrix

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              ADMIN CONTROLLERS                         â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ DashboardController                                    â•‘
â•‘ â€¢ Show dashboard stats & recent bookings              â•‘
â•‘                                                        â•‘
â•‘ KamarController                                        â•‘
â•‘ â€¢ index()   - List all rooms (paginated)              â•‘
â•‘ â€¢ create()  - Show create form                        â•‘
â•‘ â€¢ store()   - Save new room                           â•‘
â•‘ â€¢ edit()    - Show edit form                          â•‘
â•‘ â€¢ update()  - Update room data                        â•‘
â•‘ â€¢ destroy() - Delete room                            â•‘
â•‘                                                        â•‘
â•‘ PemesananController                                    â•‘
â•‘ â€¢ index()   - List all bookings (paginated)           â•‘
â•‘ â€¢ show()    - Show booking details                    â•‘
â•‘ â€¢ updateStatus() - Update booking status             â•‘
â•‘                                                        â•‘
â•‘ UserController                                         â•‘
â•‘ â€¢ index()   - List all members                        â•‘
â•‘ â€¢ show()    - Show member details                     â•‘
â•‘ â€¢ edit()    - Show edit form                          â•‘
â•‘ â€¢ update()  - Update member data                      â•‘
â•‘ â€¢ destroy() - Delete member                          â•‘
â•‘                                                        â•‘
â•‘ ProfileController                                      â•‘
â•‘ â€¢ show()    - Show admin profile                      â•‘
â•‘ â€¢ edit()    - Show edit form                          â•‘
â•‘ â€¢ update()  - Update admin profile                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              MEMBER CONTROLLERS                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ DashboardController                                    â•‘
â•‘ â€¢ index() - Show member dashboard                     â•‘
â•‘                                                        â•‘
â•‘ KamarController                                        â•‘
â•‘ â€¢ index() - List available rooms                      â•‘
â•‘ â€¢ show()  - Show room details                         â•‘
â•‘                                                        â•‘
â•‘ PemesananController                                    â•‘
â•‘ â€¢ index()  - Show member's bookings history           â•‘
â•‘ â€¢ create() - Show booking form                        â•‘
â•‘ â€¢ store()  - Create booking                           â•‘
â•‘ â€¢ show()   - Show booking details                     â•‘
â•‘                                                        â•‘
â•‘ ProfileController                                      â•‘
â•‘ â€¢ show()   - Show member profile                      â•‘
â•‘ â€¢ edit()   - Show edit form                           â•‘
â•‘ â€¢ update() - Update member profile                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## Summary

âœ… Struktur sudah terorganisir dengan baik  
âœ… Controllers terpisah per role (Admin/Member)  
âœ… Views terpisah per role untuk clarity  
âœ… Middleware protection pada setiap route  
âœ… Routing dengan prefix yang jelas (/admin, /member)  
âœ… Auth flow yang benar (redirect ke dashboard sesuai role)  
âœ… SIAP untuk production! ğŸš€
